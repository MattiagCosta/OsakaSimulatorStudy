<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<title>Sata Andagi</title>
	<meta name='viewport' content='width=device-width, initial-scale=1'>
	<link rel='stylesheet' type='text/css' media='screen' href='style.css'>
	<script src='script.js'></script>
</head>
<body>
	<h1>tsu_han.dat hacking ü§Ø</h1>

	<p>Welcome to the Sata Andagi tsu_han.dat hacking page! Here you can load and manipulate the tsu_han.dat file. (This was generated by AI btw üòñ)</p>

	<p>Create a custom save file for Osaka Simulator.</p>

	<p>WARNING‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è<br>I worked only on the Standalone version of Osaka Simulator. I don't believe the tsu_han.dat file is different in the other versions, but be careful. Always create a copy of your current game before you replace it.</p>

	<p>Find more <a href="https://github.com/MattiagCosta/OsakaSimulatorStudy">here</a>.</p>

	<hr>

	<h3>Load fresh start tsu_han.dat file</h3>
	<p>If you click the orange/yellow button in the pause menu, you restart the game with a fresh start.</p>
	<button onclick="LoadFreshStart()">Load fresh start</button>

	<hr>

	<h3>Load a tsu_han.dat file</h3>
	<input type="file" id="file-input" accept=".dat">
	<button onclick="LoadTsu_han_datFile()">Load the file choosen</button>

	<hr>

	<h3>Customize your file</h3>

	<label for="yen">Number of yen</label>
	<input type="number" id="yen" min="0">

	<script>
		document.getElementById('yen').addEventListener('input', function(e){
			if(isNaN(this.value) || this.value<0){
				this.value = 0;
			}
		});
	</script>

	<div id="checkbox-controls">
		<input type="checkbox" id="invert-selection">
		<label for="invert-selection">Invert selection</label>
		<input type="checkbox" id="select-all">
		<label for="select-all">Select all</label>
		<input type="checkbox" id="deselect-all">
		<label for="deselect-all">Deselect all</label>
	</div>

	<script>
		function ResetCheckboxControls(this_checkbox){
			checkboxes = document.querySelectorAll('#checkbox-controls input[type="checkbox"]');
			for(let checkbox of checkboxes){
				if(checkbox !== this_checkbox){
					checkbox.checked = false;
				}
			}
		}

		document.getElementById('invert-selection').addEventListener('change', function(e){
			let checkboxes = document.querySelectorAll('#items-list input[type="checkbox"]');
			for(let checkbox of checkboxes){
				checkbox.checked = !checkbox.checked;
			}
			ResetCheckboxControls(this);
		});
		document.getElementById('select-all').addEventListener('change', function(e){
			let checkboxes = document.querySelectorAll('#items-list input[type="checkbox"]');
			for(let checkbox of checkboxes){
				checkbox.checked = true;
			}
			ResetCheckboxControls(this);
		});
		document.getElementById('deselect-all').addEventListener('change', function(e){
			let checkboxes = document.querySelectorAll('#items-list input[type="checkbox"]');
			for(let checkbox of checkboxes){
				checkbox.checked = false;
			}
			ResetCheckboxControls(this);
		});
	</script>

	<ul id="items-list"></ul>

	<script>
		for(let item of ITEMS_LIST){
			let li = document.createElement('li');
			let checkbox = document.createElement('input');
			checkbox.type = 'checkbox'
			checkbox.id = item;
			let label = document.createElement('label');
			label.htmlFor = item;
			label.textContent = item;
			li.appendChild(checkbox);
			li.appendChild(label);
			document.getElementById('items-list').appendChild(li);
		};
	</script>

	<p>Click the button to download a new save file based on the options you have chosen. The file will be named "tsu_han.dat". Remember that Osaka Simulator can't leave files named other than that, so if you download "tsu_han (1).dat" or something similar, rename it.</p>
	<button onclick="DownLoadTsu_han_datFile()">Download file (yay!)</button>

</body>
</html>